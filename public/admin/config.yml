backend:
  name: git-gateway
  branch: main
  repo: PatrickMcGrath29/thegoodland
  squash_merges: true
  use_graphql: true

site_url: https://thegoodland.io
display_url: https://thegoodland.io

media_folder: public/uploads
public_folder: /uploads

collections:
  - name: posts
    label: Post
    folder: content/posts
    format: frontmatter
    create: true
    slug: '{{uuid}}-{{title}}'
    summary: '{{title}}'
    editor:
      preview: false
    identifier_field: uuid
    fields:
      - {label: Unique ID, name: uuid, widget: uuid}

      - {label: Title, name: title, widget: text}

      - label: Author
        name: referenceId
        widget: relation
        collection: authors
        search_fields: [authorName]
        value_field: uuid
        display_fields: [authorName]
        required: false
        hint: 'Optional, the author associated with this post.'

      - label: Categories
        name: categories
        widget: list
        field:
          label: Category
          name: categories
          widget: relation
          collection: categories
          search_fields: [name]
          value_field: name
          display_fields: [name]
          required: false

      - label: Content
        name: body
        widget: markdown

  - name: categories
    label: Category
    folder: content/categories
    format: frontmatter
    create: true
    slug: '{{name}}-{{uuid}}'
    identifier_field: uuid
    summary: '{{name}}'
    editor:
      preview: false
    fields:
      - {label: Unique ID, name: uuid, widget: uuid}
      - {label: Category Name, name: name, widget: string}

  - name: authors
    label: Author
    folder: content/authors
    format: frontmatter
    create: true
    slug: '{{uuid}}-{{authorName}}'
    summary: '{{authorName}}'
    editor:
      preview: false
    fields:
      - {label: Unique ID, name: uuid, widget: uuid}

      - label: Author Name
        name: authorName
        widget: string
        required: false

local_backend: true
